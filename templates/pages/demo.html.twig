{# query the database #}
{% set demo_page = yassg_query('collections.demo_page') %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{{ demo_page.title }}</title>

    {# TODO: https://github.com/symfony/webpack-encore-bundle/issues/19 #}
    {% if app.debug %}
        {{ encore_entry_link_tags('app') }}
    {% else %}
        {% for file in encore_entry_css_files('app') %}
            <link href="{{ absolute_url(asset(file)) }}" rel="stylesheet" />
        {% endfor %}
    {% endif %}
</head>
<body>

<main>
    <h1>{{ demo_page.title }}</h1>
    <h2>Asset example</h2>
    <p><img src="{{ asset(demo_page.image) }}"/></p>
    <h2>Demo notes</h2>
    <p>Delete this file and tweak <code>config/*.yaml</code> files.</p>
</main>

{# TODO: https://github.com/symfony/webpack-encore-bundle/issues/19 #}
{% if app.debug %}
    {{ encore_entry_script_tags('app') }}
{% else %}
    {% for file in encore_entry_js_files('app') %}
        <script src="{{ absolute_url(asset(file)) }}"></script>
    {% endfor %}
{% endif %}
</body>
</html>
